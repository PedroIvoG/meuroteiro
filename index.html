<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meu Roteiro - Roteiros de Viagem com IA</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        button {
            padding: 10px 15px;
            background: #4361ee;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        #loading {
            display: none;
            margin: 10px 0;
        }
        #result {
            margin-top: 20px;
            padding: 10px;
            border: 1px solid #ddd;
        }
    </style>
</head>
<body>
    <h1>Gerador de Roteiros de Viagem</h1>
    
    <div>
        <label for="city">Cidade:</label>
        <input type="text" id="city" placeholder="Digite a cidade" required>
    </div>
    
    <div>
        <label for="days">Dias:</label>
        <input type="number" id="days" min="1" value="3" required>
    </div>
    
    <button id="generate-btn">Gerar Roteiro</button>
    
    <div id="loading">Processando...</div>
    <div id="result"></div>

    <script>
        console.log("Script carregado"); // Verificação inicial
        
        document.getElementById('generate-btn').addEventListener('click', async function() {
            console.log("Botão clicado"); // Verifica se o evento está sendo capturado
            
            const city = document.getElementById('city').value.trim();
            const days = document.getElementById('days').value;
            
            if (!city) {
                showMessage("Por favor, digite uma cidade", 'error');
                return;
            }
            
            toggleLoading(true);
            clearResult();
            
            try {
                console.log("Iniciando requisição...");
                
                // Simulação de API - REMOVA ISSO QUANDO A API ESTIVER FUNCIONANDO
                await new Promise(resolve => setTimeout(resolve, 2000));
                document.getElementById('result').innerHTML = `
                    <h3>Roteiro para ${city} - ${days} dias</h3>
                    <p>Esta é uma simulação. Quando a API estiver configurada corretamente, aparecerá o roteiro real aqui.</p>
                    <p>Verifique o console para mensagens de depuração.</p>
                `;
                
                // Código real da API (descomente quando testar)
                /*
                const response = await fetch('https://openrouter.ai/api/v1/chat/completions', {
                    method: 'POST',
                    headers: {
                        'Authorization': 'Bearer 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',
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        model: "deepseek-ai/deepseek-chat",
                        messages: [{
                            role: "user",
                            content: `Crie um roteiro para ${city} com ${days} dias`
                        }]
                    })
                });
                
                const data = await response.json();
                document.getElementById('result').innerHTML = data.choices[0].message.content;
                */
                
            } catch (error) {
                console.error("Erro:", error);
                showMessage("Ocorreu um erro. Verifique o console.", 'error');
            } finally {
                toggleLoading(false);
            }
        });

        function showMessage(message, type) {
            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = `<div class="${type}">${message}</div>`;
            resultDiv.style.display = 'block';
            console.log("Mensagem exibida:", message); // Verificação
        }

        function toggleLoading(show) {
            document.getElementById('loading').style.display = show ? 'block' : 'none';
            document.getElementById('generate-btn').disabled = show;
            console.log("Loading:", show ? "ON" : "OFF"); // Verificação
        }

        function clearResult() {
            document.getElementById('result').innerHTML = '';
        }
    </script>
</body>
</html>
